import com.mongodb.MongoClient;
import com.mongodb.MongoCredential;
import com.mongodb.client.FindIterable;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import java.util.Scanner;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class ConnectToDB {

    public static void main( String args[] ) {

        // Creating a Mongo client
        MongoClient mongo = new MongoClient( "localhost" , 27017 );

        // Creating Credentials-doar o data
       /* MongoCredential credential;
        credential = MongoCredential.createCredential("sampleUser", "myDb",
                "password".toCharArray());
        System.out.println("Connected to the database successfully");
*/
        // Accessing the database
        MongoDatabase database = mongo.getDatabase("myDb");
        //System.out.println("Credentials ::"+ credential);

        //Creating a collection-doar o data
        //database.createCollection("User");
        //database.createCollection("Pacients")
        //database.createCollection("Doctors");
        //database.createColleusction("Specialization");




        MongoCollection<Document> collectionUser = database.getCollection("Users");


        Scanner scan= new Scanner(System.in);
        int activator=0;
        String nume;
        String prenume;
        int varsta;
        int telefon;
        String email;
        int idPacient;
        int idDoctor;


        do {
            System.out.println("Selectati:0-inroduceti mai mult de 1 user;1-doar 1 user");
             activator= scan.nextInt();
            scan.nextLine();
            System.out.println("Nume:");
            nume =  scan.nextLine();
            //scan.nextFoo;
            System.out.println("Prenume:");
           prenume = scan.nextLine();
            //scan.nextFoo;
            System.out.println("Varsta:");
             varsta= scan.nextInt();
            scan.nextLine();
            System.out.println("Telefon:");
             telefon= scan.nextInt();
            scan.nextLine();
            System.out.println("Email:");
            email = scan.nextLine();
            System.out.println("idPacient:");
            idPacient= scan.nextInt();
            scan.nextLine();
            System.out.println("idDoctor:");
            idDoctor= scan.nextInt();
            scan.nextLine();

           //verificare
           /* System.out.println(activator);
            System.out.println(nume);
            System.out.println(prenume);
            System.out.println(varsta);
            System.out.println(email);
            System.out.println(idPacient);
            System.out.println(idDoctor);*/

        }while(activator==0);
        Document pacient1 = new Document()
                .append("nume",nume)
                .append("prenume", prenume)
                .append("age", varsta)
                .append("telephone", telefon)
                .append("email", email)
                .append("id_pacient", idPacient)
                .append("id_doctor", idDoctor);
        /*
        exemplu:
       Document pacient1 = new Document()
                .append("nume", "Popescu")
                .append("prenume", "Ion")
                .append("age", 50)
                .append("telephone", "12345678")
                .append("email", "popescuion@gmail.com")
                .append("id_pacient", "1")
                .append("id_doctor", "0");

      /*   Document document2 = new Document("title", "RethinkDB")
                .append("description", "database")
                .append("likes", 200)
                .append("url", "http://www.tutorialspoint.com/rethinkdb/")
                .append("by", "tutorials point");
        List<Document> list = new ArrayList<Document>();
        list.add(document1);
        list.add(document2);*/
        collectionUser.insertOne(pacient1);

    }
}